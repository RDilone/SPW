<?xml version="1.0" encoding="UTF-8"?>
<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:ui="http://java.sun.com/jsf/facelets"
              xmlns:f="http://java.sun.com/jsf/core"
              xmlns:h="http://java.sun.com/jsf/html"
              xmlns:p="http://primefaces.org/ui"
              xmlns:composite="http://xmlns.jcp.org/jsf/composite"
              xmlns:components="http://xmlns.jcp.org/jsf/composite/components">

    <composite:interface>
        <composite:attribute name="nombre" />
        <composite:attribute name="direccion" />
        <composite:attribute name="cedula" />
        <composite:attribute name="streamedContent" />
        <composite:attribute name="correo" />
        <composite:attribute name="celular" />
        <composite:attribute name="telefono" />
        <composite:attribute name="numTarjeta" />
        <composite:attribute name="pinTarjeta" />
        <composite:attribute name="elementUpdate" /> 
        <composite:attribute name="uploadListener" method-signature="void listener(org.primefaces.event.FileUploadEvent)" />
        <composite:attribute name="guardar" method-signature="void listener()" />

    </composite:interface>

    <composite:implementation>
        <!--# {cc.attrs.sak}-->

        <style >

            .scroll {
/*                width: 800px;*/
            }


            @media (min-width: 768px) {


                .paddeng {
                    padding-right: 15px !Important;
                }

                .margen-right {
                    margin-right: 15px;
                }
            }

            @media (max-width: 991px) {

                .margen {
                    margin-bottom: 15px;
                }

                .margen-right {
                    margin-right: 10%;
                }

                .no-paddeng {
                    padding-right: 0px !Important;
                }

                .fullSize {
                    width: 100%;
                }

                .margen2 {
                    margin-bottom: 15px;
                }
            }

            @media (min-width: 991px) {
                .paddeng {
                    padding-right: 15px !Important;
                }
            }

            @media (min-width: 766px) {
                .paddeng2 {
                    padding-right: 15px !Important;
                }

            }

            @media (max-width: 1200px) {
                .scroll {
                    height:500px;
                }
            }

            @media (max-width: 640px) {

                .fullSize {
                    width: 100%;
                }

                .margen-movil {
                    margin-right: 0px;
                    margin-bottom: 15px !Important;
                }
            }

            .ui-tabs .ui-tabs-panel {
                border: 1px solid #BBB;
                border-radius: 3px 3px 10px 10px;
            }

        </style>

        <p:dialog header="Agregar / Editar Persona" 
                  widgetVar="dialogPersona" 
                  modal="true" 
                  closable="true" 
                  width="90%"
                  style="max-width: 900px; 
                         max-height: 600px;
                         overflow-y: auto;"
                  id="dialogPerson"
                  resizable="false" >
            <!--enctype="multipart/form-data"-->
                <h:form id="editPersona" 
                        style="padding-left: 15px; 
                        padding-right: 30px; 
                        padding-top: 20px;" >
                    
                    <p:messages id="message" 
                                showDetail="true" 
                                showSummary="false"
                                closable="true">
                        <p:autoUpdate />
                    </p:messages>

                    <div class="row" style="margin-bottom: 0px;">                       

                        <div class="col-lg-5" style="padding: 15px; padding-right: 0px;">

                            <p:graphicImage id="imgCedula"
                                            style="border-radius: 5px;"
                                            value="#{cc.attrs.streamedContent}" 
                                            stream="false"
                                            onclick="PF('dialogImagen').show();" 
                                            width="100%"/>
                            <br/>
                            <p:outputLabel style="width: 100%; 
                                           margin-top: 15px; 
                                           margin-bottom: 15px; 
                                           text-align: center;" 
                                           value="Click en la imagen para adjuntar una nueva"/>
                        </div>

                        <div class="col-lg-7" >

                            <div class="row" style="margin-bottom: 15px; padding-left: 15px;">
                                <div class="col-lg-8 col-md-8 paddeng no-paddeng" style="padding: 0px;">
                                    <p:outputLabel for="@next" value="Nombre Completo"/><br/>
                                    <p:inputText value="#{cc.attrs.nombre}" 
                                                 class="pull-left margen" 
                                                 style="width: 100%;"
                                                 required="true"
                                                 placeholder="Nombre Completo"/>          
                                </div>
                                <div class="col-lg-4 col-md-4" style="padding: 0px;">
                                    <p:outputLabel for="@next" value="Celular"/><br/>
                                    <p:inputMask value="#{cc.attrs.celular}" 
                                                 class="pull-left margen2" 
                                                 required="true"
                                                 mask="999-999-9999"
                                                 style="width: 100%;" 
                                                 placeholder="Celular"/>   

                                </div>                                            

                            </div>

                            <div class="row" style="margin-bottom: 15px; padding-left: 15px;">
                                <div class="col-lg-6 col-md-6 col-sm-6 paddeng paddeng2" style="padding: 0px;">
                                    <p:outputLabel for="@next" value="Teléfono"/><br/>
                                    <p:inputMask value="#{cc.attrs.telefono}" 
                                                 class="pull-left" 
                                                 mask="999-999-9999"
                                                 style="width: 100%;" 
                                                 placeholder="Teléfono"/>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6" style="padding: 0px;">
                                    <p:outputLabel for="@next" value="Cédula"/><br/>
                                    <p:inputMask value="#{cc.attrs.cedula}" 
                                                 class="pull-left" 
                                                 required="true"
                                                 mask="999-9999999-9"
                                                 style="width: 100%;" 
                                                 placeholder="Cédula"/>
                                </div>


                            </div>

                            <div class="row" style="margin-bottom: 15px; padding-left: 15px;">
                                <div class="col-lg-12 col-md-12" style="padding: 0px;">
                                    <p:outputLabel for="@next" value="Dirección"/><br/>
                                    <p:inputText value="#{cc.attrs.direccion}" 
                                                 class="pull-left" 
                                                 required="true"
                                                 style="width: 100%;" 
                                                 placeholder="Dirección"/>          
                                </div>

                            </div>

                            <div class="row" style="margin-bottom: 15px; padding-left: 15px;">
                                <div class="col-lg-12 col-md-12" style="padding: 0px;">
                                    <p:outputLabel for="@next" value="Correo Electrónico"/><br/>
                                    <p:inputText value="#{cc.attrs.correo}" 
                                                 class="pull-left" 
                                                 style="width: 100%;" 
                                                 placeholder="Correo Electrónico"/>          
                                </div>                                            
                            </div>

                            <div class="row" style="margin-bottom: 15px; padding-left: 15px;">
                                <div class="col-lg-9 col-md-9 col-sm-6 paddeng paddeng2" style="padding: 0px;">
                                    <p:outputLabel for="@next" value="Número Tarjeta"/><br/>
                                    <p:inputMask value="#{cc.attrs.numTarjeta}" 
                                                 class="pull-left margen2"
                                                 mask="9999 9999 9999 9999"
                                                 style="width: 100%; margin-right: 5%;" 
                                                 placeholder="Número Tarjeta"/>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-6" style="padding: 0px;">
                                    <p:outputLabel for="@next" value="Pin Tarjeta"/><br/>
                                    <p:inputText value="#{cc.attrs.pinTarjeta}" 
                                                 class="pull-left" 
                                                 style="width: 100%;" 
                                                 placeholder="Pin Tarjeta"/>
                                </div>


                            </div>

                        </div>
                    </div>  

                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12" 
                             style="padding: 0px; margin-bottom: 15px;">
                            <p:commandLink id="add" 
                                           title="Guardar"
                                           update="#{cc.attrs.elementUpdate}"
                                           actionListener="#{cc.attrs.guardar}"
                                           class="btn btn-primary pull-right margen-movil fullSize"  >           
                                <i class="pi pi-save" style="margin-right: 5px;" ></i>
                                <b>Guardar</b>
                            </p:commandLink>

                        </div>

                    </div>


                </h:form>
        </p:dialog>

        <components:dialogImagenes imageUpdate="@([id$=imgCedula])"
                                   uploadListener="#{cc.attrs.uploadListener}"/>

    </composite:implementation>

</ui:component>