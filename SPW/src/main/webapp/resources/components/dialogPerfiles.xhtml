<?xml version="1.0" encoding="UTF-8"?>
<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:ui="http://java.sun.com/jsf/facelets"
              xmlns:f="http://java.sun.com/jsf/core"
              xmlns:h="http://java.sun.com/jsf/html"
              xmlns:p="http://primefaces.org/ui"
              xmlns:composite="http://java.sun.com/jsf/composite">

    
    <composite:interface>
        <composite:attribute name="nombreUsuario" />
    </composite:interface>

    <composite:implementation>
        <!--# {cc.attrs.sak}-->

        <p:dialog header="Perfil de Usuario" 
                  widgetVar="dialogPerfil" 
                  modal="true" 
                  closable="true" 
                  width="500" 
                  resizable="false" >
            <!--enctype="multipart/form-data"-->
            <h:form id="editPerfil" >


                <div class="row">

                    <div class="col-lg-12" style="text-align: center; margin-bottom: 15px;">
                        <p style="font-size: 15px;" >#{cc.attrs.nombreUsuario}</p>                      
                        <p style="font-size: 18px;"><b>Permisos de Acceso</b></p>
                        
                    </div>
                </div>   

                <div class="row">                       

                    <div class="col-lg-12" style="align-content: center;">
                        <p:selectManyCheckbox id="check" layout="grid" columns="2" value="#{usuarioBean.listPermisoSeleccionados}" style="margin-bottom: 40px;" >
                            <f:selectItems value="#{usuarioBean.listPermisoDisponibles}" var="per" noSelectionValue="0" itemLabel="#{per.permiso}" itemValue="#{per}" itemDescription="#{per.descripcion}" />                        
                        </p:selectManyCheckbox>
                    </div>

                </div>




                <div class="row" >

                    <div class="col-lg-12">
                        <p:commandLink id="gua" 
                                       class="btn btn-primary" 
                                       onclick="PF('dialogPerfil').hide();" 
                                       actionListener="#{usuarioBean.updatePermisosUsuario()}" 
                                       title="Guardar" style="width: 100%;" 
                                       update="editPerfil" >
                            <i class="pi pi-save" style="margin-right: 5px;" ></i>
                            <b>Guardar</b>
                        </p:commandLink>
                    </div>

                </div>

            </h:form>
        </p:dialog>

    </composite:implementation>

</ui:component>
